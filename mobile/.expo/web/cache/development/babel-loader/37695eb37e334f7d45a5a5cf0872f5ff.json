{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\kaley\\\\Desktop\\\\philosophyapp\\\\mobile\\\\screens\\\\CameraScreen.tsx\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport CameraPreview from \"../components/CameraPreview\";\nimport { Camera } from \"expo-camera\";\n\nvar CameraScreen = function CameraScreen(props) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      hasPermission = _useState2[0],\n      setHasPermission = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      camera = _useState4[0],\n      setCamera = _useState4[1];\n\n  var _useState5 = useState(Camera.Constants.FlashMode.off),\n      _useState6 = _slicedToArray(_useState5, 2),\n      flashMode = _useState6[0],\n      setFlashMode = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      previewVisible = _useState8[0],\n      setPreviewVisible = _useState8[1];\n\n  var _useState9 = useState(null),\n      _useState10 = _slicedToArray(_useState9, 2),\n      capturedImage = _useState10[0],\n      setCapturedImage = _useState10[1];\n\n  var _useState11 = useState(Camera.Constants.Type.back),\n      _useState12 = _slicedToArray(_useState11, 2),\n      camType = _useState12[0],\n      setType = _useState12[1];\n\n  useEffect(function () {\n    (function _callee() {\n      var _await$Camera$request, status;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Camera.requestCameraPermissionsAsync());\n\n            case 2:\n              _await$Camera$request = _context.sent;\n              status = _await$Camera$request.status;\n              setHasPermission(status === \"granted\");\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n\n  var takePicture = function takePicture() {\n    var photo;\n    return _regeneratorRuntime.async(function takePicture$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(camera.takePictureAsync());\n\n          case 2:\n            photo = _context2.sent;\n            setPreviewVisible(true);\n            setCapturedImage(photo);\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var savePhoto = function savePhoto() {\n    setPreviewVisible(false);\n    props.navigation.navigate(\"Submit\", {\n      uri: capturedImage.uri,\n      width: capturedImage.width,\n      height: capturedImage.height\n    });\n  };\n\n  var retakePhoto = function retakePhoto() {\n    setCapturedImage(null);\n    setPreviewVisible(false);\n  };\n\n  if (hasPermission === null) {\n    return React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 10\n      }\n    });\n  }\n\n  if (hasPermission === false) {\n    return React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 10\n      }\n    }, \"No access to camera\");\n  }\n\n  return React.createElement(View, {\n    style: styles.main,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 3\n    }\n  }, previewVisible && capturedImage ? React.createElement(CameraPreview, {\n    photo: capturedImage,\n    savePhoto: savePhoto,\n    retakePhoto: retakePhoto,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }) : React.createElement(Camera, {\n    style: styles.camera,\n    type: camType,\n    flashMode: flashMode,\n    ref: function ref(r) {\n      return setCamera(r);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.camCapBtnContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 6\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: takePicture,\n    style: styles.camCapBtn,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }))));\n};\n\nvar styles = StyleSheet.create({\n  main: {\n    flex: 1,\n    width: \"100%\",\n    height: \"100%\"\n  },\n  camera: {\n    flex: 1,\n    width: \"100%\"\n  },\n  camCapBtnContainer: {\n    alignSelf: \"center\",\n    flex: 1,\n    alignItems: \"center\"\n  },\n  camCapBtn: {\n    position: \"absolute\",\n    width: 70,\n    height: 70,\n    bottom: 40,\n    borderRadius: 50,\n    backgroundColor: \"#fff\"\n  }\n});\nexport default CameraScreen;","map":{"version":3,"sources":["C:/Users/kaley/Desktop/philosophyapp/mobile/screens/CameraScreen.tsx"],"names":["React","useEffect","useState","CameraPreview","Camera","CameraScreen","props","hasPermission","setHasPermission","camera","setCamera","Constants","FlashMode","off","flashMode","setFlashMode","previewVisible","setPreviewVisible","capturedImage","setCapturedImage","Type","back","camType","setType","requestCameraPermissionsAsync","status","takePicture","takePictureAsync","photo","savePhoto","navigation","navigate","uri","width","height","retakePhoto","styles","main","r","camCapBtnContainer","camCapBtn","StyleSheet","create","flex","alignSelf","alignItems","position","bottom","borderRadius","backgroundColor"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { View, StyleSheet, Text, TouchableOpacity } from \"react-native\";\r\n\r\nimport CameraPreview from \"../components/CameraPreview\";\r\nimport { Camera } from \"expo-camera\";\r\n\r\nconst CameraScreen = (props) => {\r\n\tconst [hasPermission, setHasPermission] = useState(null);\r\n\tconst [camera, setCamera] = useState(null);\r\n\tconst [flashMode, setFlashMode] = useState(Camera.Constants.FlashMode.off);\r\n\tconst [previewVisible, setPreviewVisible] = useState(false);\r\n\tconst [capturedImage, setCapturedImage] = useState(null);\r\n\tconst [camType, setType] = useState(Camera.Constants.Type.back);\r\n\r\n\tuseEffect(() => {\r\n\t\t(async () => {\r\n\t\t\tconst { status } = await Camera.requestCameraPermissionsAsync();\r\n\t\t\tsetHasPermission(status === \"granted\");\r\n\t\t})();\r\n\t}, []);\r\n\r\n\tconst takePicture = async () => {\r\n\t\t// if(!camera) return\r\n\t\tconst photo = await camera.takePictureAsync();\r\n\t\t// console.log(photo);\r\n\t\t// setStartCamera(false);\r\n\t\tsetPreviewVisible(true);\r\n\t\tsetCapturedImage(photo);\r\n\t};\r\n\r\n\tconst savePhoto = () => {\r\n\t\tsetPreviewVisible(false);\r\n\r\n\t\tprops.navigation.navigate(\"Submit\", {\r\n\t\t\turi: capturedImage.uri,\r\n\t\t\twidth: capturedImage.width,\r\n\t\t\theight: capturedImage.height,\r\n\t\t});\r\n\t};\r\n\r\n\tconst retakePhoto = () => {\r\n\t\tsetCapturedImage(null);\r\n\t\tsetPreviewVisible(false);\r\n\t};\r\n\tif (hasPermission === null) {\r\n\t\treturn <View />;\r\n\t}\r\n\tif (hasPermission === false) {\r\n\t\treturn <Text>No access to camera</Text>;\r\n\t}\r\n\treturn (\r\n\t\t<View style={styles.main}>\r\n\t\t\t{previewVisible && capturedImage ? (\r\n\t\t\t\t<CameraPreview photo={capturedImage} savePhoto={savePhoto} retakePhoto={retakePhoto} />\r\n\t\t\t) : (\r\n\t\t\t\t<Camera style={styles.camera} type={camType} flashMode={flashMode} ref={(r) => setCamera(r)}>\r\n\t\t\t\t\t<View style={styles.camCapBtnContainer}>\r\n\t\t\t\t\t\t<TouchableOpacity onPress={takePicture} style={styles.camCapBtn} />\r\n\t\t\t\t\t</View>\r\n\t\t\t\t</Camera>\r\n\t\t\t)}\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n\tmain: {\r\n\t\tflex: 1,\r\n\t\twidth: \"100%\",\r\n\t\theight: \"100%\",\r\n\t},\r\n\tcamera: {\r\n\t\tflex: 1,\r\n\t\twidth: \"100%\",\r\n\t},\r\n\tcamCapBtnContainer: {\r\n\t\talignSelf: \"center\",\r\n\t\tflex: 1,\r\n\t\talignItems: \"center\",\r\n\t},\r\n\tcamCapBtn: {\r\n\t\tposition: \"absolute\",\r\n\t\twidth: 70,\r\n\t\theight: 70,\r\n\t\tbottom: 40,\r\n\t\tborderRadius: 50,\r\n\t\tbackgroundColor: \"#fff\",\r\n\t},\r\n});\r\n\r\nexport default CameraScreen;\r\n"]},"metadata":{},"sourceType":"module"}